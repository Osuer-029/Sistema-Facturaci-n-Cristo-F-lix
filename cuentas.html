<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cuentas por Cobrar</title>
  <link rel="stylesheet" href="facturacion.css">
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    /* --- Estilos para los botones del modal --- */
    .accionesFactura {
      margin-top: 12px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }

    .btn {
      background: #007bff;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.3s;
    }

    .btn:hover {
      background: #0056b3;
    }

    .btn.success { background: #28a745; }
    .btn.success:hover { background: #1e7e34; }

    .btn.danger { background: #dc3545; }
    .btn.danger:hover { background: #a71d2a; }

    .btn.close { background: #6c757d; }
    .btn.close:hover { background: #5a6268; }

    @media (max-width: 600px) {
      .accionesFactura {
        flex-direction: column;
        align-items: stretch;
      }
      .btn {
        width: 100%;
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <h1>Cuentas por Cobrar</h1>
  </header>

  <main class="container">
    <section class="card">
      <h2>Buscar</h2>
      <input type="text" id="searchCuentas" placeholder="Buscar por cliente o factura...">
    </section>

    <section class="card">
      <h2>Facturas Pendientes</h2>
      <ul id="listaPendientes"></ul>
    </section>
  </main>

  <!-- Modal detalle factura -->
  <div id="modalFactura" class="modal hidden">
    <div class="modal-content">
      <h3>Detalle de Factura</h3>
      <div id="detalleFactura"></div>

      <ul id="listaPagos"></ul>

      <!-- üîπ NUEVOS BOTONES -->
      <div class="accionesFactura">
        <button class="btn" onclick="abrirModalProductos()">‚ûï Agregar Producto</button>
        <button class="btn" onclick="agregarPago()">üíµ Agregar Pago</button>
        <button class="btn" onclick="agregarMora()">‚ö†Ô∏è Agregar Mora</button>
        <button class="btn success" onclick="facturaSalda()">‚úÖ Factura Salda</button>
        <button class="btn danger" id="btnEliminarFactura">üóëÔ∏è Eliminar</button>
        <button class="btn" onclick="imprimirFactura()">üñ®Ô∏è Imprimir</button>
        <button class="btn close" id="cerrarFactura">‚ùå Cerrar</button>
      </div>
    </div>
  </div>

  <!-- Modal Productos -->
  <div id="modalProductos" class="modal hidden">
    <div class="modal-content">
      <h3>Seleccionar Producto</h3>
      <input type="text" id="searchProductModal" placeholder="Buscar producto...">
      <ul id="listProductsModal"></ul>
      <button class="btn close" id="closeProductsModal">Cerrar</button>
    </div>
  </div>

  <!-- Footer -->
  <footer class="navbar">
    <a href="index.html" class="nav-item"><i data-lucide="home"></i><span>Inicio</span></a>
    <a href="inventario.html" class="nav-item"><i data-lucide="package"></i><span>Inventario</span></a>
    <a href="clientes.html" class="nav-item"><i data-lucide="users"></i><span>Clientes</span></a>
    <a href="facturacion.html" class="nav-item"><i data-lucide="file-text"></i><span>Facturaci√≥n</span></a>
    <a href="cuentas.html" class="nav-item active"><i data-lucide="credit-card"></i><span>Cuentas</span></a>
    <a href="historial.html" class="nav-item"><i data-lucide="archive"></i><span>Historial</span></a>
  </footer>

  <script>
    lucide.createIcons();
  </script>
  <script type="module" src="cuentas.js"></script>
</body>
</html>
